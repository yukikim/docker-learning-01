version: '3.8'

services:
  # --- Webアプリのサービス ---
  web:
    build: .          # カレントディレクトリの Dockerfile を使ってビルド
    ports:
      - "8800:8800"   # PCの8800番ポートをコンテナの8800番に繋ぐ
    volumes:
      - .:/app        # PC上のコード変更をリアルタイムでコンテナに反映
    depends_on:
      - redis         # redisが起動してから起動する

  # --- データベース(Redis)のサービス ---
  redis:
    image: "redis:alpine" # 公式が用意しているイメージをそのまま使う
